(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{372:function(s,a,t){s.exports=t.p+"assets/img/2023-09-12-23-35-45.cf7c64a4.png"},795:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[s._v("#")]),s._v(" 概述")]),s._v(" "),a("ul",[a("li",[s._v("大型项目会有很多模块,基类,如果都写在一个CMakeLists.txt会有很臃肿,建议采用结构化使结构清晰，便于维护")])]),s._v(" "),a("h2",{attrs:{id:"基类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基类"}},[s._v("#")]),s._v(" 基类")]),s._v(" "),a("h3",{attrs:{id:"底层lib库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#底层lib库"}},[s._v("#")]),s._v(" 底层lib库")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cmake_minimum_required"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("VERSION "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TARGET_NAME "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nproject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lib_"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TARGET_NAME}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OUT_PATH "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v('/../../lib"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nSET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LIBRARY_OUTPUT_PATH "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${OUT_PATH}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\naux_source_directory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("./ DIR_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${OUT_PATH}")]),s._v("/lib_"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TARGET_NAME}")]),s._v(".a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DIR_SRCS}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nadd_library"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t_"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TARGET_NAME}")]),s._v(" STATIC\n\t"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DIR_SRCS}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("blockquote",[a("ul",[a("li",[a("code",[s._v("add_library")]),s._v("中默认或带"),a("code",[s._v("STATIC")]),s._v("为静态库,带"),a("code",[s._v("SHARED")]),s._v("代表动态库,")]),s._v(" "),a("li",[s._v("在IDE中,lib库不支持直接点击运行,仅支持编译;")]),s._v(" "),a("li",[s._v("在"),a("code",[s._v("project")]),s._v("语句的前后,"),a("code",[s._v("${PROJECT_SOURCE_DIR}")]),s._v("表示内容不同;")]),s._v(" "),a("li",[s._v("建议使用静态库,避免麻烦;")])])]),s._v(" "),a("h3",{attrs:{id:"组织lib库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组织lib库"}},[s._v("#")]),s._v(" 组织lib库")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cmake_minimum_required"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("VERSION "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nproject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lib_total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nadd_subdirectory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nadd_subdirectory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#源码"}},[s._v("#")]),s._v(" 源码")]),s._v(" "),a("h3",{attrs:{id:"底层src"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#底层src"}},[s._v("#")]),s._v(" 底层src")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cmake_minimum_required"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("VERSION "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TARGET_NAME "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nproject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TARGET_NAME}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OUT_PATH "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROJECT_SOURCE_DIR}")]),s._v('/../../bin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\naux_source_directory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("./ DIR_SRCS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ninclude_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"../../include"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nlink_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ORACLE_DIR}")]),s._v("/lib "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${OUT_PATH}")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TARGET_NAME}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DIR_SRCS}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#create exe file")]),s._v("\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_RUNTIME_OUTPUT_DIRECTORY "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${OUT_PATH}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nadd_executable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TARGET_NAME}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DIR_SRCS}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntarget_link_libraries"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TARGET_NAME}")]),s._v(" _hello1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"组织src"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组织src"}},[s._v("#")]),s._v(" 组织src")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cmake_minimum_required"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("VERSION "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#create a project")]),s._v("\nproject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello_app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nadd_subdirectory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("app_hello1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nadd_subdirectory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("app_hello2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"总的cmakelists-txt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总的cmakelists-txt"}},[s._v("#")]),s._v(" 总的CMakeLists.txt")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cmake_minimum_required"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("VERSION "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#create a project")]),s._v("\nproject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello_all"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_CXX_FLAGS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CMAKE_C_FLAGS}")]),s._v(' -O0  -Wall"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CMAKE_C_FLAGS "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CMAKE_C_FLAGS}")]),s._v(' -O0  -Wall"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nadd_subdirectory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("include"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nadd_subdirectory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[s._v("#")]),s._v(" 目录结构")]),s._v(" "),a("p",[a("img",{attrs:{src:t(372),alt:"2023-09-12-23-35-45.png"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);