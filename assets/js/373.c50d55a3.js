(window.webpackJsonp=window.webpackJsonp||[]).push([[373],{805:function(t,s,e){"use strict";e.r(s);var a=e(2),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"git-restore"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-restore"}},[t._v("#")]),t._v(" git restore")]),t._v(" "),s("ul",[s("li",[t._v("使用index或指定源恢复工作区文件,默认是指定了"),s("code",[t._v("-W")]),t._v("或"),s("code",[t._v("--worktree")]),t._v(",即恢复工作区文件; 若指定路径在源已不存在,本地的路径也会同步删除")]),t._v(" "),s("li",[t._v("加"),s("code",[t._v("-S")]),t._v("或"),s("code",[t._v("--staged")]),t._v("则同步调整暂存区")]),t._v(" "),s("li",[t._v("不会影响commit历史记录")]),t._v(" "),s("li",[t._v("支持加"),s("code",[t._v("-s xxx")]),t._v(", 来指定commit_id,branch或tag")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 恢复工作区")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" restore "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(".txt\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除暂存区的3.txt")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" restore "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--stage")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(".txt\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# W-指工作区 --worktree S-指暂存区 --staged")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" restore -sHEAD~1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-WS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".txt\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# @指HEAD, -s指定恢复的来源commitid,branch或tag")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" restore -s@ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-WS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".txt\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定commit_id恢复单个文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" restore "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s71234fb")]),t._v(" tt/1.txt\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("blockquote",[s("p",[t._v("index指本地HEAD,当你在本地将内容add后(成为stage状态),则内容即在index中,restore从此处恢复\n当你没有从远程pull或fetch时,仍用你本地的HEAD内容来恢复")])]),t._v(" "),s("h2",{attrs:{id:"git-reset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-reset"}},[t._v("#")]),t._v(" git reset")]),t._v(" "),s("ul",[s("li",[t._v("撤销操作,移动HEAD指针,从而改变暂存区,回退到指定commit")]),t._v(" "),s("li",[t._v("会影响index文件,同步影响历史记录")]),t._v(" "),s("li",[s("code",[t._v("--hard")]),t._v("则同步影响工作区文件")])]),t._v(" "),s("blockquote",[s("p",[t._v("针对已推送到远端的历史记录,不建议使用"),s("code",[t._v("--hard")]),t._v("选项reset,否则会导致合并远程分支")])]),t._v(" "),s("ul",[s("li",[t._v("可以用作将stage文件调整为unstage,影响index,但不影响commit历史")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset HEAD "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".txt\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"git-revert"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-revert"}},[t._v("#")]),t._v(" git revert")]),t._v(" "),s("ul",[s("li",[t._v("产生新的commit,作为原commit的反向操作")]),t._v(" "),s("li",[t._v("会影响index文件,同步影响历史记录")]),t._v(" "),s("li",[t._v("反向操作过程中也会产生合并冲突")]),t._v(" "),s("li",[t._v("支持指定commit_id的范围")]),t._v(" "),s("li",[t._v("针对merge合并分支的revert,需指定parent")]),t._v(" "),s("li",[t._v("针对commit分类比较清晰的场景下,推荐使用,但针对习惯不好,混杂提交不建议使用")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" revert "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v("  9fb7ec\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"git-checkout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-checkout"}},[t._v("#")]),t._v(" git checkout")]),t._v(" "),s("ul",[s("li",[t._v("恢复工作区文件, 并直接将文件设置为stage状态")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定commit的文件检出到工作目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout 57e3082 tt/3.txt\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从最新index检出hello.c")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout hello.c\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -- hello.c\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("blockquote",[s("p",[t._v("第二种写法是为了避免存在名称为hello.c的分支,导致变成检出分支操作\n支持*通配")])])])}),[],!1,null,null,null);s.default=n.exports}}]);