(window.webpackJsonp=window.webpackJsonp||[]).push([[357],{787:function(s,a,e){"use strict";e.r(a);var t=e(2),r=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[s._v("#")]),s._v(" 概述")]),s._v(" "),a("ul",[a("li",[s._v("当编译程序时未加"),a("code",[s._v("-g")]),s._v("选项，这样的release版本程序无法调试，后续如果需要调试，可以重新编译debug版本来调试，不过注意编译选项差异只能有"),a("code",[s._v("-g")])])]),s._v(" "),a("h2",{attrs:{id:"使用调试版作为符号源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用调试版作为符号源"}},[s._v("#")]),s._v(" 使用调试版作为符号源")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("gdb "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--symbol")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("demo_debug "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-exec")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("demo_release\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"带上独立的调试符号进行调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#带上独立的调试符号进行调试"}},[s._v("#")]),s._v(" 带上独立的调试符号进行调试")]),s._v(" "),a("h3",{attrs:{id:"先查看文件的调试符号情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#先查看文件的调试符号情况"}},[s._v("#")]),s._v(" 先查看文件的调试符号情况")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# debug有debug info")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" demo_debug \ndemo_debug: ELF "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-bit LSB pie executable, x86-64, version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SYSV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sha1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("7c139eb60a6bc99a5778e5ddae2a4694e0bf81cd, "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" GNU/Linux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v(".0, with debug_info, not stripped\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# release没有debug info")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" demo_release\ndemo_release: ELF "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-bit LSB pie executable, x86-64, version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SYSV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sha1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("3953292e97493d497bc57dd9e62fadb316b95219, "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" GNU/Linux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v(".0, not stripped\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"形成独立的符号文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#形成独立的符号文件"}},[s._v("#")]),s._v(" 形成独立的符号文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("objcopy --only-keep-debug demo_debug demo.symbol\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" demo.symbol \ndemo.symbol: ELF "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-bit LSB shared object, x86-64, version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SYSV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", dynamically linked, interpreter *empty*, BuildID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sha1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("7c139eb60a6bc99a5778e5ddae2a4694e0bf81cd, "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" GNU/Linux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v(".0, with debug_info, not stripped\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调试"}},[s._v("#")]),s._v(" 调试")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("gdb "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--symbols")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("demo.symbol "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-exec")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("demo_release\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"使用strip手动移除调试信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用strip手动移除调试信息"}},[s._v("#")]),s._v(" 使用"),a("code",[s._v("strip")]),s._v("手动移除调试信息")]),s._v(" "),a("h3",{attrs:{id:"去除调试信息和符号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#去除调试信息和符号"}},[s._v("#")]),s._v(" 去除调试信息和符号")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("strip "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" demo_debug_strip demo_debug\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"文件大小会缩小很多-去除了调试信息和符号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件大小会缩小很多-去除了调试信息和符号"}},[s._v("#")]),s._v(" 文件大小会缩小很多（去除了调试信息和符号）")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ltr")]),s._v(" demo_debug_strip demo_debug\n-rwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" cy1 cy1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64952")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":22 demo_debug\n-rwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" cy1 cy1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14624")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":32 demo_debug_strip\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 已经没有调试信息了")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" demo_debug_strip\ndemo_debug_strip: ELF "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-bit LSB pie executable, x86-64, version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SYSV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sha1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("7c139eb60a6bc99a5778e5ddae2a4694e0bf81cd, "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" GNU/Linux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v(".0, stripped\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"调试-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调试-2"}},[s._v("#")]),s._v(" 调试")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("gdb "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--symbols")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("demo_debug "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-exec")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("demo_debug_strip\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);