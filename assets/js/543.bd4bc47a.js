(window.webpackJsonp=window.webpackJsonp||[]).push([[543],{1016:function(s,a,n){"use strict";n.r(a);var t=n(2),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"sql-loader-sqlldr-控制文件说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql-loader-sqlldr-控制文件说明"}},[s._v("#")]),s._v(" sql*loader(sqlldr)控制文件说明")]),s._v(" "),a("h2",{attrs:{id:"控制文件样例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#控制文件样例"}},[s._v("#")]),s._v(" 控制文件样例")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 普通仅需描述字段即可")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\nLOAD DATA\nINFILE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cy.txt'")]),s._v(" BADFILE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cy.bad'")]),s._v(" DISCARDFILE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cy.dsc'")]),s._v("\nTRUNCATE INTO TABLE TLOAD\nFIELDS TERMINATED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' | '")]),s._v(" \nOPTIONALLY ENCLOSED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\"'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" \n  FSTR1,\n  FINT,\n  FDOUBLE,\n  FCHAR1,\n  FDATE DATE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yyyy-mm-dd hh24:mi:ss"')]),s._v(",\n  FCLOB CHAR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n  FKEY\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 带SEQUENCE (注意: 使用sequence导入数据时,data里仍需要带Key的域)")]),s._v("\nLOAD DATA\nINFILE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cy.txt'")]),s._v(" BADFILE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cy.bad'")]),s._v(" DISCARDFILE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cy.dsc'")]),s._v("\nTRUNCATE INTO TABLE TLOAD\nFIELDS TERMINATED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' | '")]),s._v(" \nOPTIONALLY ENCLOSED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\"'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" \n  FSTR1,\n  FINT,\n  FDOUBLE,\n  FCHAR1,\n  FDATE DATE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yyyy-mm-dd hh24:mi:ss"')]),s._v(",\n  FCLOB CHAR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n  FKEY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SEQ_TLOAD_KEY.nextval"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 表结构")]),s._v("\ndrop table TLOAD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ncreate table TLOAD\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  FSTR1   VARCHAR2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n  FINT    NUMBER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n  FDOUBLE NUMBER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16,8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n  FCHAR1  CHAR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n  FDATE   DATE,\n  FCLOB   CLOB,\n  FKEY    NUMBER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" not null\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nCREATE SEQUENCE SEQ_TLOAD_KEY INCREMENT BY "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" MINVALUE "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" MAXVALUE "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99999999")]),s._v(" NOCYCLE NOCACHE NOORDER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据文件可通过sql导出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" t.fstr1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' | '")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" t.fint "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' |  '")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" t.fdouble "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' |  '")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" t.fchar1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' |  '")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" to_char"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t.fdate, "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'yyyy-mm-dd hh24:mi:ss'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' |  '")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" t.fclob "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' |  '")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" t.fkey "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' |  '")]),s._v("\nfrom tload t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# data")]),s._v("\nstr "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("999")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.234")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-06-13 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":02:13 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  verylong clob,you can see many many many many many many many many\nmany many many many things "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  \nstr2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1999")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.234")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  b "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-05-13 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":02:13 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  verylong clob,you can see many many many many many many many many\nmany many many many things2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  \n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"执行样例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行样例"}},[s._v("#")]),s._v(" 执行样例")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行")]),s._v("\nsqlldr XPADSAB_D2/XPADSAB_D2@192.168.193.158/ORCLUTF "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("control")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cy.ctl "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rows")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("readsize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20000000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bindsize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000000")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# out")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("qe@E193111 ~/tload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cy")]),s._v(".sh\n\nSQL*Loader: Release "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.2")]),s._v(".0.4.0 - Production on Sun Jun "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:22 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("\n\nCopyright "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1982")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2011")]),s._v(", Oracle and/or its affiliates.  All rights reserved.\n\nCommit point reached - logical record count "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nCommit point reached - logical record count "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# result（日志中）")]),s._v("\nTable TLOAD:\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" Rows successfully loaded.\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Rows not loaded due to data errors.\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Rows not loaded because all WHEN clauses were failed.\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Rows not loaded because all fields were null.\n\n\nSpace allocated "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" array:                "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001552")]),s._v(" bytes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nRead   buffer bytes:20000000\n\nTotal logical records skipped:          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nTotal logical records read:             "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nTotal logical records rejected:         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nTotal logical records discarded:        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\nRun began on Sun Jun 05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":43:34 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("\nRun ended on Sun Jun 05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":43:34 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("\n\nElapsed "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" was:     00:00:00.07\nCPU "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" was:         00:00:00.01\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br")])]),a("blockquote",[a("p",[s._v("控制文件重点几点说明")]),s._v(" "),a("ul",[a("li",[s._v("OPTIONS (skip=1,rows=128) ： 跳过第一行, 总行数128行")]),s._v(" "),a("li",[s._v("操作类型:\n"),a("ul",[a("li",[s._v("truncate: 删除旧记录(用 truncate table 语句)，替换成新装载的记录")]),s._v(" "),a("li",[s._v("insert: 为缺省方式，在数据装载开始时要求表为空")]),s._v(" "),a("li",[s._v("append: 在表中追加新记录")]),s._v(" "),a("li",[s._v("replace: 删除旧记录(用 delete from table 语句)，替换成新装载的记录")])])]),s._v(" "),a("li",[s._v('分隔符: Fields terminated by ",", 或Fields terminated by " | " (字符串)')]),s._v(" "),a("li",[s._v("内容中有分割字符串可用引号分割开: Optionally enclosed by '\"'")]),s._v(" "),a("li",[s._v("表的字段没有对应的值时允许为空: trailing nullcols")]),s._v(" "),a("li",[s._v("坏数据: BADFILE")]),s._v(" "),a("li",[s._v("丢弃数据: DISCARDFILE")])])]),s._v(" "),a("h2",{attrs:{id:"特殊处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特殊处理"}},[s._v("#")]),s._v(" 特殊处理")]),s._v(" "),a("h3",{attrs:{id:"日期类字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#日期类字段"}},[s._v("#")]),s._v(" 日期类字段")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v('FDATE DATE "yyyy-mm-dd hh24:mi:ss",  --这里指定日期格式\n')])])]),a("h3",{attrs:{id:"clob字段-不指定长度会报错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clob字段-不指定长度会报错"}},[s._v("#")]),s._v(" clob字段（不指定长度会报错）")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("FCLOB CHAR(1000000)\n")])])]),a("h3",{attrs:{id:"sequence-使用sequence赋值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sequence-使用sequence赋值"}},[s._v("#")]),s._v(" sequence（使用sequence赋值）")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v('FKEY "SEQ_TLOAD_KEY.nextval"\n')])])]),a("h3",{attrs:{id:"跳过字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跳过字段"}},[s._v("#")]),s._v(" 跳过字段")]),s._v(" "),a("blockquote",[a("p",[s._v("即文本并非包含表中的所有字段,使用FILLER属性;")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# control文件（VFIELDx都是虚拟的列,文本有,应用的表里没有）")]),s._v("\nLOAD DATA\nINFILE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cy.txt'")]),s._v(" BADFILE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cy.bad'")]),s._v(" DISCARDFILE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cy.dsc'")]),s._v("\nTRUNCATE INTO TABLE TLOAD\nFIELDS TERMINATED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' | '")]),s._v(" \nOPTIONALLY ENCLOSED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\"'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" \n  VFIELD1 FILLER,\n  FSTR1,\n  FINT,\n  VFIELD2 FILLER,\n  FDOUBLE,\n  FCHAR1,\n  FDATE DATE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yyyy-mm-dd hh24:mi:ss"')]),s._v(",\n  FCLOB CHAR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n  FKEY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SEQ_TLOAD_KEY.nextval"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# data文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("qe@E193111 ~/tload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cat")]),s._v(" cy.txt\nttt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" str1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1688")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sql1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("112345.678")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" s "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-06-05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":02:06 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  ni hao1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  \nttt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" str2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2688")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sql2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("212345.678")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" f "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-06-06 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":02:06 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  ni hao2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此处可以满足当外围接入的字段多于应用需要字段的处理;（实际测试可以正确读取）")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("h3",{attrs:{id:"调用函数处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调用函数处理"}},[s._v("#")]),s._v(" 调用函数处理")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("替换\nCUSTOMERNAME \"REPLACE(:CUSTOMERNAME,X'7C0D0A',' ')\",\nFSTR1 \"REPLACE(:FSTR1, 'str','str2')\",")])]),s._v(" "),a("li",[a("p",[s._v('变形为大写\nFSTR1 "upper(:dname)",')])]),s._v(" "),a("li",[a("p",[s._v("以及其他任意自定义的函( 此处充满想象... )")])])]),s._v(" "),a("h3",{attrs:{id:"性能情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#性能情况"}},[s._v("#")]),s._v(" 性能情况")]),s._v(" "),a("ul",[a("li",[s._v("非Direct导入模式:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\nTotal logical records skipped:          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nTotal logical records read:        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("245582")]),s._v("\nTotal logical records rejected:         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nTotal logical records discarded:        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\nRun began on Mon Jun "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" 09:32:00 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("\nRun ended on Mon Jun "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" 09:32:10 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("\n\nElapsed "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" was:     00:00:09.39\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("blockquote",[a("p",[s._v("效率在"),a("strong",[s._v("2.5万/秒,1小时在9000万左右")])])]),s._v(" "),a("ul",[a("li",[s._v("Direct导入模式")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\nTotal logical records skipped:          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nTotal logical records read:        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("245582")]),s._v("\nTotal logical records rejected:         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nTotal logical records discarded:        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nTotal stream buffers loaded by SQL*Loader main thread:       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51")]),s._v("\nTotal stream buffers loaded by SQL*Loader load thread:       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94")]),s._v("\n\nRun began on Mon Jun "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" 09:36:35 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("\nRun ended on Mon Jun "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" 09:36:41 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("\n\nElapsed "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" was:     00:00:05.52\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("blockquote",[a("p",[s._v("效率在"),a("strong",[s._v("4w笔/秒,1小时在1.5亿左右")])]),s._v(" "),a("ul",[a("li",[s._v("注意Direct=true的副作用：\n"),a("ul",[a("li",[s._v("可能破坏原有索引无效,需检查核实,有必要情况下进行索引重建;")]),s._v(" "),a("li",[s._v("Direct模式导入忽略索引,即使存在唯一索引,在数据存在重复值情况下也能插入成功;")])])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);