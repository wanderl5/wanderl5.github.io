(window.webpackJsonp=window.webpackJsonp||[]).push([[143],{550:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"设置core文件-核心转储文件-大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置core文件-核心转储文件-大小"}},[s._v("#")]),s._v(" 设置core文件(核心转储文件)大小")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("ulimit -a")]),s._v("列出所有资源限制("),a("code",[s._v("ulimit -c")]),s._v("仅列出core大小设置)")]),s._v(" "),a("li",[s._v("检查"),a("code",[s._v("core file size")]),s._v("项(kb)\n"),a("ul",[a("li",[s._v("0: 不产生core")]),s._v(" "),a("li",[s._v("非0: 产生core,最大不超过设置值,core文件会产生但会截断")])])]),s._v(" "),a("li",[s._v("设置最大core文件大小(尽量将这个文件大小设置得大一些，程序崩溃时生成Core文件大小即为程序运行时占用的内存大小)")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置2G最大")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("ulimit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2097152")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不限制大小")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("ulimit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" unlimited\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"设置core文件格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置core文件格式"}},[s._v("#")]),s._v(" 设置core文件格式")]),s._v(" "),a("blockquote",[a("p",[s._v("不设置默认在程序运行路径下")])]),s._v(" "),a("h3",{attrs:{id:"设置文件名带pid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置文件名带pid"}},[s._v("#")]),s._v(" 设置文件名带pid")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置core文件有pid")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("kernel.core_uses_pid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"设置core存放位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置core存放位置"}},[s._v("#")]),s._v(" 设置core存放位置")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置core文件路径和名称")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ~/corefile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 展示pid和时间 core.82524.1710467741, 时间戳可以使用`date -d @1710467741`解释为可理解的格式")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("kernel.core_pattern")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/cy/corefile/core.%p.%t\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同时展示可执行文件名称和信号")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sudo sysctl -w kernel.core_pattern=/home/cy/corefile/core.%e.%p.%s.%E")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("主要参数说明")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("%p")]),s._v(" "),a("td",[s._v("insert pid into filename 添加pid(进程id)")])]),s._v(" "),a("tr",[a("td",[s._v("%u")]),s._v(" "),a("td",[s._v("insert current uid into filename 添加当前uid(用户id)")])]),s._v(" "),a("tr",[a("td",[s._v("%g")]),s._v(" "),a("td",[s._v("insert current gid into filename 添加当前gid(用户组id)")])]),s._v(" "),a("tr",[a("td",[s._v("%s")]),s._v(" "),a("td",[s._v("insert signal that caused the coredump into the filename 添加导致产生core的信号")])]),s._v(" "),a("tr",[a("td",[s._v("%t")]),s._v(" "),a("td",[s._v("insert UNIX time that the coredump occurred into filename 添加core文件生成时的unix时间")])]),s._v(" "),a("tr",[a("td",[s._v("%h")]),s._v(" "),a("td",[s._v("insert hostname where the coredump happened into filename 添加主机名")])]),s._v(" "),a("tr",[a("td",[s._v("%e")]),s._v(" "),a("td",[s._v("insert coredumping executable name into filename 添加导致产生core的命令名")])])])]),s._v(" "),a("h2",{attrs:{id:"检查是否有产生core文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检查是否有产生core文件"}},[s._v("#")]),s._v(" 检查是否有产生core文件")]),s._v(" "),a("h3",{attrs:{id:"根据输出判断是否产生core文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#根据输出判断是否产生core文件"}},[s._v("#")]),s._v(" 根据输出判断是否产生core文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 没有产生")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("133306")]),s._v(" segmentation fault  ./a.out\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 说明产生core dump了")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("133525")]),s._v(" segmentation fault "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("core dumped"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  ./a.out\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("安装"),a("code",[s._v("system-coredump")]),s._v(",方便分析core,可以使用"),a("code",[s._v("coredumpctl")])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" systemd-coredump\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看最近的core文件列表")]),s._v("\n➜  cbuild git:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("master"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ✗ coredumpctl list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-5")]),s._v("\nHint: You are currently not seeing messages from other "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("users")]),s._v(" and the system.\n      Users "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groups")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'adm'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'systemd-journal'")]),s._v(" can see all messages.\n      Pass "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v(" to turn off this notice.\nTIME                          PID  "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("  GID SIG     COREFILE EXE                                         SIZE\nThu "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2024")]),s._v("-03-14 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":50:47 CST "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72792")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" SIGSEGV present  /home/cy/hdd/erayt/gtja/bin/dpuiInterface "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("453")]),s._v(".8K\nThu "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2024")]),s._v("-03-14 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":54:54 CST "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73442")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" SIGSEGV present  /home/cy/hdd/erayt/gtja/bin/dpuiInterface "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("471")]),s._v(".6K\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# core文件不在当前目录,则可能在默认路径")]),s._v("\n➜  cbuild git:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("master"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ✗ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" /var/lib/systemd/coredump/\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("936")]),s._v("\n-rw-r-----+ "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("464772")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":50 core.dpuiInterface.1000.a476ff8efd60434d95027db98ee32005.72792.1710427847000000.zst\n-rw-r-----+ "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("483013")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":54 core.dpuiInterface.1000.a476ff8efd60434d95027db98ee32005.73442.1710428094000000.zst\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# zst文件可以转换为普通coredmp")]),s._v("\ncoredumpctl dump "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72792")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" core\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h2",{attrs:{id:"使用kill直接产生core-dump"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用kill直接产生core-dump"}},[s._v("#")]),s._v(" 使用kill直接产生core dump")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按pid kill")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" SIGSEGV "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80146")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("输出")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("➜  cbuild git:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("master"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ✗ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ltr")]),s._v(" ~/corefile\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20928")]),s._v("\n-rw------- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" cy cy  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4497408")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":10 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'core.zsh.69250.11.!usr!local!bin!zsh'")]),s._v("\n-rw------- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" cy cy "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15069184")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":12 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'core.dpuiInterface.74929.11.!home!cy!hdd!erayt!gtja!bin!dpuiInterface'")]),s._v("\n-rw------- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" cy cy "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14962688")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" 09:04 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'core.dpuiInterface.78503.11.!home!cy!hdd!erayt!gtja!bin!dpuiInterface'")]),s._v("\n-rw------- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" cy cy "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14798848")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" 09:21  core.80146.1710465662\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"dmesg查看进程是否被core-down了"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dmesg查看进程是否被core-down了"}},[s._v("#")]),s._v(" "),a("code",[s._v("dmesg")]),s._v("查看进程是否被core down了")]),s._v(" "),a("ul",[a("li",[s._v("使用")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dmesg")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[a("code",[s._v("-H")]),s._v(": 让输出可读时间")])]),s._v(" "),a("ul",[a("li",[s._v("输出")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月14 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":50"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" dpuiInterface"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72792")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": segfault at "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" 00005634d43fa638 sp 00007ffccbb48470 error "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" dpuiInterface"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("5634d43e500"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("  +0.000011"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Code: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(" c7 b8 00 00 00 00 e8 1c 07 03 00 be "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v(" 01 bf "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v(" 01 e8 2e 0a 00 00 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" cc "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" c7 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" c0 00 00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月14 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":53"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("UFW BLOCK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("IN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("wlp5s0 "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("OUT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MAC")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("01:00:5e:00:00:01:8c:a6:df:19:83:e0:08:00 "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SRC")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.1 "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DST")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("224.0")]),s._v(".0.1 "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LEN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TOS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月14 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":54"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" dpuiInterface"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73442")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": segfault at "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" 000055f29a5fe638 sp 00007ffc2764aa60 error "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" dpuiInterface"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("55f29a5e900"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("  +0.000015"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Code: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(" c7 b8 00 00 00 00 e8 1c 07 03 00 be "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v(" 01 bf "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v(" 01 e8 2e 0a 00 00 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" cc "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" c7 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" c0 00 00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月14 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":55"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("blockquote",[a("p",[s._v("注意: 除了coredown 信息,dmesg里还能看到"),a("code",[s._v("oom kill")]),s._v(",系统重新启动等日志")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("oom-kill:constraint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CONSTRAINT_NONE,nodemask"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("null"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",cpuset"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker-c17bde8217db657fcb25e5afd201049a3607f09ba1a0652"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v("\nOut of memory: Killed process "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65991")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vivaldi-Content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" total-vm:1186277836kB, anon-rss:3996112kB, file-rss:0kB, shm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"arm下查看coredump的方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arm下查看coredump的方法"}},[s._v("#")]),s._v(" arm下查看coredump的方法")]),s._v(" "),a("h3",{attrs:{id:"列出coredump程序清单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列出coredump程序清单"}},[s._v("#")]),s._v(" 列出coredump程序清单")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("coredumpctl\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"查看core文件信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看core文件信息"}},[s._v("#")]),s._v(" 查看core文件信息")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("coredumpctl info pid\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"解压缩文件并查看core文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解压缩文件并查看core文件"}},[s._v("#")]),s._v(" 解压缩文件并查看core文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("lz4 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" xxx.lz4\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"解压缩文件并查看core文件-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解压缩文件并查看core文件-2"}},[s._v("#")]),s._v(" 解压缩文件并查看core文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("lz4 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" xxx.12\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);